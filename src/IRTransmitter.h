#ifndef IRTransmitter_h
#define IRTransmitter_h

#include <stddef.h>

class IRTransmitter
{
    public:
        IRTransmitter(unsigned int ir_output_pin, unsigned int led_pin);
        void Transmit(unsigned int *data, size_t length);

        unsigned int Off[227] ={
            3500,1700,500,1250,500,1250,500,400,500,400,500,400,500,1250,500,400,500,450,450,1300,450,
            1300,450,450,500,1250,450,450,500,400,500,1250,500,1250,500,450,450,1300,450,1300,450,450,450,
            450,450,1300,450,450,500,450,450,1300,450,450,450,450,450,450,500,400,500,450,450,450,450,450,
            450,450,500,450,450,450,450,450,450,450,450,450,500,1250,500,450,450,450,450,450,450,450,450,500,
            400,500,450,1300,450,450,450,450,450,450,450,500,450,450,450,1300,450,1300,450,450,450,1300,450,
            450,450,1300,450,500,400,1350,400,500,450,450,450,450,450,450,450,500,450,1300,450,450,450,1300,450,
            1300,450,1300,450,1300,450,450,450,450,450,500,400,500,450,450,450,450,450,450,450,500,400,500,450,450,
            450,450,450,500,400,500,450,450,450,450,450,450,450,500,400,500,450,450,450,450,450,500,400,500,450,450,
            450,450,450,500,400,500,450,1300,450,450,450,450,450,450,450,500,400,1350,400,500,450,
            450,450,450,450,500,400,500,450,450,450,1300,450,1300,450,450,450,500,400};

         unsigned int HeaterOn[227] ={
           3500,1650,500,1250,500,1250,500,400,500,400,500,400,500,1250,500,450,450,450
           ,450,1300,450,1300,450,450,500,1250,500,400,500,450,450,1300,450,1300,450,450
           ,450,1300,450,1300,450,450,450,450,500,1250,500,400,500,450,450,1300,450,450
           ,450,450,450,450,500,450,450,450,450,450,450,450,500,400,500,450,450,450
           ,450,450,450,450,500,450,450,1300,450,450,450,450,450,450,450,1300,450,450
           ,450,500,450,1300,450,450,450,450,450,1300,450,450,450,500,450,450,450,450
           ,450,1300,450,1300,450,450,450,500,400,1350,400,500,450,450,450,450,450,450
           ,450,500,400,500,450,450,450,1300,450,450,450,1300,450,1300,450,1300,450,450
           ,450,500,450,450,450,450,450,450,450,500,400,500,450,450,450,450,450,500
           ,400,500,450,450,450,450,450,450,450,500,400,500,450,450,450,450,450,500
           ,400,500,450,450,450,450,450,500,400,500,450,450,450,450,450,1300,450,450
           ,450,500,400,1350,400,500,450,450,450,450,450,500,400,1350,400,1350,400,1350
           ,400,1350,400,1350,400,500,400,500,450,450,450};

        unsigned int ACon[227] = {3500,1650,500,1250,500,1250,500,400,500,450,500,400
            ,500,1250,500,400,500,400,500,1250,500,1250,500,400,500,1250,500,450,450,450
            ,450,1300,450,1300,450,450,500,1250,500,1250,500,400,500,450,450,1300,450,450
            ,450,450,450,1300,450,450,450,450,500,450,450,450,450,450,450,450,450,500
            ,450,450,450,450,450,450,450,450,450,500,450,450,450,1300,450,450,450,450
            ,450,500,450,1300,400,500,450,450,450,1300,450,450,450,500,400,1350,400,1350
            ,400,500,450,450,450,450,450,450,450,1300,450,500,400,1350,450,1300,400,500
            ,450,1300,450,450,450,450,450,450,450,500,450,1300,450,450,450,1300,450,1300
            ,450,1300,450,1300,450,450,450,450,450,500,400,500,450,450,450,450,450,450
            ,450,500,450,450,450,450,450,450,450,500,400,500,450,450,450,450,450,500
            ,400,500,450,450,450,450,450,450,450,500,400,500,450,450,450,450,450,500
            ,400,500,450,450,450,450,450,500,400,1350,400,500,450,1300,400,500,450,450
            ,450,450,450,500,400,1350,400,1350,400,500,450,1300,450,450,450,450,450};


        unsigned int FanOn[227] = {
            3500,1650,500,1250,500,1250,500,400,500,400,500,450,450,1300,450,450,450,450,500
            ,1250,500,1250,500,400,500,1250,500,400,500,450,450,1300,450,1300,450,450,450,1300
            ,450,1300,450,450,500,400,500,1250,500,450,450,450,450,1300,450,450,450,450,500,400
            ,500,450,450,450,450,450,450,450,500,450,450,450,450,450,450,450,450,500,450,450
            ,450,1300,450,450,450,450,450,450,450,1300,450,500,450,450,450,1300,450,450
            ,450,450,450,1300,450,1300,450,1300,450,450,450,500,450,450,450,1300,450,450
            ,450,450,450,500,400,500,450,1300,450,450,450,450,450,500,400,500,450,1300
            ,450,450,450,1300,450,1300,450,1300,450,1300,450,450,450,450,450,500,400,500
            ,450,450,450,450,450,500,400,500,450,450,450,450,450,450,450,500,400,500
            ,450,450,450,450,450,500,400,500,450,450,450,450,450,500,400,500,450,450
            ,450,450,450,450,450,500,400,500,450,1300,450,450,450,1300,450,450,450,1300
            ,450,1300,450,450,450,500,450,450,450,1300,450,450,450,1300,450,1300,450,1300
            ,450,450,450,500,400};

        unsigned int DryOn[227] = {3550,1650,500,1250,500,1250
            ,500,400,500,400,500,400,500,1250,500,450,450,450,450,1300,450,1300,450,450,450
            ,1300,450,450,500,400,500,1250,500,1250,500,450,450,1300,450,1300,450,450,450
            ,450,450,1300,450,450,500,450,450,1300,450,450,450,450,450,450,500,400,500,450
            ,450,450,450,450,450,450,500,450,450,450,450,450,450,450,450,450,500,1250,500
            ,450,450,450,450,450,450,1300,450,450,450,500,450,1300,450,450,450,450,450,450
            ,450,1300,450,450,450,500,450,450,450,450,450,1300,450,450,450,500,400,500,450,450
            ,450,1300,450,450,450,450,450,500,450,450,450,450,450,1300,450,450,450,1300
            ,450,1300,450,1300,450,500,400,500,450,450,450,450,450,500,400,500,450,450
            ,450,450,450,450,450,500,400,500,450,450,450,450,450,500,400,500,450,450
            ,450,450,450,500,400,500,450,450,450,450,450,450,450,500,400,500,450,450
            ,450,450,450,500,400,1350,400,500,450,450,450,1300,450,1300,450,450,450,500
            ,400,1300,450,1300,450,1300,450,1300,450,500,400,1350,400,500,450,450,450};

    private:
        int ir_output_pin_;
        int led_pin_;
        unsigned long sig_time_;

        const static int duty_cycle;
        const static int carrier_frequency;
        const static int period;
        const static int high_time;
        const static int low_time;

        void Mark(unsigned int mLen);
        void Space(unsigned int sLen);
};

#endif /* IRTransmitter_h */
